<form class="container" [formGroup]="userForm">
    <fieldset class="fieldset">
        <legend class="mb-5 mt-4">Informations générales</legend>
        <div class="form-group mb-3 row">
            <label class="col-sm-2 col-form-label">Nom</label>
            <div class="col-sm-6">
                <input [class.is-invalid]="userName.invalid 
              && userName.touched" 
              type="text" required  formControlName="userName" class="form-control">
            <div *ngIf="userName.invalid && userName.touched">
           <small *ngIf="userName.errors?.['required']" class="text-danger">UserName is required</small>
           <small *ngIf="userName.errors?.['minlength']" class="text-danger">userName must be at least 3 characters</small>
            </div>
            </div>
        </div>
        <div class=" form-group mb-3 row">
            <label for="input" class="col-sm-2 col-form-label">Email</label>
           <div class="col-sm-6">
               <input [class.is-invalid]="email.invalid 
               && email.touched" required  type="email" class="form-control"  formControlName="email">
                <div *ngIf="email.invalid && email.touched">
                    <small class="text-danger" *ngIf="email.errors?.['required']"> email is required.</small>
                    <small class="text-warning" *ngIf="email.errors?.['pattern']"> email must contain @</small>
                </div>
            </div>
        </div>

        <div formGroupName="payementInformations">
            <legend class="mb-5 mt-4">Informations de payement</legend>
        <div  class=" form-group mb-3 row">
            <label class="col-sm-2 col-form-label">Type de carte</label>
            <div class="col-sm-6">
                <input [class.is-invalid]="typecarte.invalid 
                && typecarte.touched" required type="text" class="form-control" formControlName="typecarte" >
                <div *ngIf="typecarte.invalid && typecarte.touched">
                    <small class="text-danger" *ngIf="typecarte.errors?.['required']"> type de carte est obligatoire</small>
                </div>
            </div>
        </div>
        <div class=" form-group mb-3 row">
            <label class="col-sm-2 col-form-label">Numéro carte</label>
            <div class="col-sm-6">
                <input [class.is-invalid]="numerocarte.invalid 
                && numerocarte.touched"  required type="text" formControlName="numerocarte" class="form-control">

                <div *ngIf="numerocarte.invalid && numerocarte.touched">
                    <small class="text-danger" *ngIf="numerocarte.errors?.['required']"> le numéro est obligatoire.</small>
                    <small class="text-warning" *ngIf="numerocarte.errors?.['minlength']"> le numéro contient 16 chiffres.</small>
        

                </div>
            </div>
        </div>
        <div class="form-group mb-3 row">
            <label class="col-sm-2 col-form-label">Date expiration</label>
            <div class="col-sm-6">
                <input [class.is-invalid]="dateexpiration.invalid 
                && dateexpiration.touched"   type="date" required formControlName="dateexpiration" class="form-control">
                <small [class.d-none]="dateexpiration.valid 
                || dateexpiration.untouched" class="text-danger">La date est obligatoire</small>
            </div>
        </div>
        <div class="form-group mb-3 row">
            <label class="col-sm-2 col-form-label">Code</label>
            <div class="col-sm-6">
                <input [class.is-invalid]="code.invalid 
                && code.touched"  type="text" formControlName="code" class="form-control" required value="" name="code">
            </div>
        </div>
        </div>
    </fieldset>
    <button [disabled]="userForm.invalid" (click)="onAjout()" class="btn btn-primary" type="submit">Submit</button>
</form>

